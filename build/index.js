!function(){"use strict";var e,t={138:function(){var e=window.wp.element,t=window.wp.blocks,n=(window.wp.i18n,window.wp.blockEditor),r=window.wp.components,a=window.lodash,o=window.wp.data,l=window.wp.coreData;const c=t=>{const{taxonomySlug:n,selectedTermId:c,onSelectedTermChange:i}=t,{availableTerms:s}=(0,o.useSelect)((e=>{const{getEntityRecords:t}=e(l.store);return{availableTerms:t("taxonomy",n,{per_page:-1})||[]}}),[]),m=(0,e.useMemo)((()=>function(e){const t=e.map((e=>({children:[],parent:null,...e}))),n=(0,a.groupBy)(t,"parent");if(n.null&&n.null.length)return t;const r=e=>e.map((e=>{const t=n[e.id];return{...e,children:t&&t.length?r(t):[]}}));return r(n[0]||[])}(s)),[s]),d=t=>t.map((t=>(0,e.createElement)("div",{key:t.id,className:"editor-post-taxonomies__hierarchical-terms-choice"},(0,e.createElement)(r.CheckboxControl,{checked:t.id===c,onChange:()=>{const e=parseInt(t.id,10);i(e)},label:(0,a.unescape)(t.name)}),!!t.children.length&&(0,e.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices"},d(t.children)))));return(0,e.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-list"},d(m))};var i=window.React,s=JSON.parse('{"u2":"ubc/subcategory-block"}');(0,t.registerBlockType)(s.u2,{edit:function(t){const{attributes:o,setAttributes:s,context:m}=t,{taxonomySlug:d,selectedTermId:u,hideEmpty:p,isLink:h,tag:v}=o,{postId:g,postType:w}=m,b=(0,n.useBlockProps)(),f="post"===w?{per_page:-1,hideEmpty:p,context:"view",child_of:u||0,post:g}:{per_page:-1,hideEmpty:p,context:"view",child_of:u||0},{records:y,isResolving:E}=(0,l.useEntityRecords)("taxonomy","category",f);return(0,e.createElement)(i.Fragment,null,!E&&y&&y.length>0?(0,e.createElement)(v,b,y.map(((t,n)=>h?(0,e.createElement)("a",{key:n,href:t.link,className:"single-term"},(0,a.unescape)(t.name).trim()):(0,e.createElement)("span",{key:n,className:"single-term"},(0,a.unescape)(t.name).trim()))).reduce(((t,n)=>[t,(0,e.createElement)("span",{className:"term-separator"},", "),n]))):null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:"Select a parent term",className:"ubc-subcategory-panel-category",initialOpen:!0},(0,e.createElement)(r.PanelRow,null,(0,e.createElement)(c,{taxonomySlug:d,selectedTermId:u,onSelectedTermChange:e=>{s({selectedTermId:e===u?void 0:e})}}))),(0,e.createElement)(r.PanelBody,{title:"Settings",className:"ubc-subcategory-panel-settings",initialOpen:!0},(0,e.createElement)(r.PanelRow,null,(0,e.createElement)(r.ToggleControl,{label:"Link terms",help:h?"Terms will be linked to their archive pages.":"Terms will not be linked.",checked:h,onChange:()=>{s({isLink:!h})}})),(0,e.createElement)(r.PanelRow,null,(0,e.createElement)(r.ToggleControl,{label:"Hide empty terms",help:p?"Terms that do not have any posts attached will be hidden.":"Terms that do not have any posts attached will be visible.",checked:p,onChange:()=>{s({hideEmpty:!p})}})))))},icon:(0,e.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M20 4H4v1.5h16V4zm-2 9h-3c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3zM4 9.5h9V8H4v1.5zM9 13H6c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3z",fillRule:"evenodd",clipRule:"evenodd"}))})}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,a,o){if(!n){var l=1/0;for(m=0;m<e.length;m++){n=e[m][0],a=e[m][1],o=e[m][2];for(var c=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[i])}))?n.splice(i--,1):(c=!1,o<l&&(l=o));if(c){e.splice(m--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[n,a,o]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,l=n[0],c=n[1],i=n[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(i)var m=i(r)}for(t&&t(n);s<l.length;s++)o=l[s],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(m)},n=self.webpackChunkubc_subcategory_block=self.webpackChunkubc_subcategory_block||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=r.O(void 0,[431],(function(){return r(138)}));a=r.O(a)}();